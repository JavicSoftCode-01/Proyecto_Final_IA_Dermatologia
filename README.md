# üè• DermaIA - Sistema de Diagn√≥stico Dermatol√≥gico con Inteligencia Artificial

![Python](https://img.shields.io/badge/python-3.10+-blue.svg)
![Django](https://img.shields.io/badge/django-5.2.1-green.svg)
![TensorFlow](https://img.shields.io/badge/tensorflow-2.x-orange.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

## üìã Descripci√≥n

**DermaIA** es un sistema avanzado de diagn√≥stico dermatol√≥gico que utiliza inteligencia artificial para analizar im√°genes de lesiones cut√°neas y proporcionar diagn√≥sticos preliminares. El sistema est√° dise√±ado como una herramienta de apoyo para profesionales de la salud, ofreciendo an√°lisis r√°pidos y precisos de hasta 25 condiciones dermatol√≥gicas diferentes.

### üéØ Caracter√≠sticas Principales

- **An√°lisis de IA Avanzado**: Modelo de deep learning entrenado para detectar 25 condiciones dermatol√≥gicas
- **Visualizaci√≥n GradCAM**: Mapas de calor que muestran las √°reas de inter√©s del modelo
- **Gesti√≥n de Pacientes**: Sistema completo de registro y seguimiento de pacientes
- **Reportes Detallados**: Generaci√≥n autom√°tica de reportes en PDF
- **Integraci√≥n con Gemini AI**: Descripci√≥n y recomendaciones de tratamiento generadas por IA
- **Interfaz Moderna**: Dise√±o responsivo y f√°cil de usar
- **Autenticaci√≥n Segura**: Sistema de login y gesti√≥n de usuarios

## üî¨ Condiciones Dermatol√≥gicas Detectadas

El sistema puede identificar las siguientes 25 condiciones:

| C√≥digo | Condici√≥n                      | Descripci√≥n                            |
| ------ | ------------------------------ | -------------------------------------- |
| MEL    | Melanoma                       | Tipo de c√°ncer de piel                 |
| NV     | Nevus                          | Lunar benigno                          |
| BCC    | Carcinoma de c√©lulas basales   | C√°ncer de piel no melanoma             |
| AK     | Queratosis act√≠nica            | Lesi√≥n precancerosa                    |
| BKL    | Queratosis benigna             | Lesi√≥n benigna                         |
| DF     | Dermatofibroma                 | Tumor benigno                          |
| VASC   | Lesiones vasculares            | Afecciones de vasos sangu√≠neos         |
| SCC    | Carcinoma de c√©lulas escamosas | C√°ncer de piel                         |
| ACN    | Acn√©                           | Afecci√≥n inflamatoria                  |
| ROS    | Ros√°cea                        | Enfermedad inflamatoria cr√≥nica        |
| DER    | Dermatitis                     | Inflamaci√≥n de la piel                 |
| ECZ    | Eczema                         | Dermatitis at√≥pica                     |
| PSO    | Psoriasis                      | Enfermedad autoinmune                  |
| IMP    | Imp√©tigo                       | Infecci√≥n bacteriana                   |
| CEL    | Celulitis                      | Infecci√≥n del tejido subcut√°neo        |
| RIN    | Ti√±a                           | Infecci√≥n f√∫ngica                      |
| HER    | Herpes                         | Infecci√≥n viral                        |
| LUP    | Lupus                          | Enfermedad autoinmune                  |
| HIV    | VIH-relacionado                | Manifestaciones cut√°neas del VIH       |
| WAR    | Verrugas                       | Infecci√≥n viral                        |
| SCA    | Sarna                          | Infestaci√≥n parasitaria                |
| VAS    | Vasculitis                     | Inflamaci√≥n de vasos sangu√≠neos        |
| CPX    | Varicela                       | Infecci√≥n viral                        |
| SHG    | Herpes z√≥ster                  | Reactivaci√≥n del virus varicela-z√≥ster |
| UNK    | Desconocido                    | Condici√≥n no identificada              |

## üèóÔ∏è Arquitectura del Sistema

### Tecnolog√≠as Utilizadas

**Backend:**

- **Django 5.2.1** - Framework web principal
- **TensorFlow/Keras** - Modelo de inteligencia artificial
- **Google Generative AI (Gemini)** - Generaci√≥n de reportes y recomendaciones
- **OpenCV** - Procesamiento de im√°genes
- **PostgreSQL/SQLite** - Base de datos

**Frontend:**

- **HTML5/CSS3** - Estructura y estilos
- **JavaScript** - Interactividad
- **Bootstrap** - Framework CSS responsivo
- **Font Awesome** - Iconograf√≠a

**IA y Machine Learning:**

- **MobileNetV2** - Arquitectura base del modelo
- **GradCAM** - Visualizaci√≥n de activaciones
- **CustomF1Score** - M√©trica personalizada de evaluaci√≥n

### Estructura del Proyecto

```
Proyecto_Final_IA_Dermatologia/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # Autenticaci√≥n y usuarios
‚îÇ   ‚îú‚îÄ‚îÄ core/                   # Funcionalidades principales
‚îÇ   ‚îî‚îÄ‚îÄ Dermatologia_IA/        # M√≥dulo principal de IA
‚îÇ       ‚îú‚îÄ‚îÄ models.py           # Modelos de datos
‚îÇ       ‚îú‚îÄ‚îÄ views/              # Vistas de la aplicaci√≥n
‚îÇ       ‚îú‚îÄ‚îÄ forms/              # Formularios
‚îÇ       ‚îú‚îÄ‚îÄ migrations/         # Migraciones de BD
‚îÇ       ‚îî‚îÄ‚îÄ utils/              # Utilidades
‚îú‚îÄ‚îÄ IA/
‚îÇ   ‚îî‚îÄ‚îÄ Dermatological_AI_Model/
‚îÇ       ‚îî‚îÄ‚îÄ checkpoints/        # Modelo entrenado
‚îú‚îÄ‚îÄ media/                      # Archivos multimedia
‚îÇ   ‚îú‚îÄ‚îÄ skin_images/           # Im√°genes de lesiones
‚îÇ   ‚îî‚îÄ‚îÄ gradcam_images/        # Mapas de calor
‚îú‚îÄ‚îÄ static/                     # Archivos est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ css/                   # Estilos CSS
‚îÇ   ‚îú‚îÄ‚îÄ js/                    # JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ img/                   # Im√°genes
‚îú‚îÄ‚îÄ templates/                  # Plantillas HTML
‚îú‚îÄ‚îÄ utils/                      # Utilidades generales
‚îú‚îÄ‚îÄ manage.py                   # Script de Django
‚îî‚îÄ‚îÄ requirements.txt            # Dependencias
```

## üöÄ Instalaci√≥n y Configuraci√≥n

### Prerrequisitos

- Python 3.10 o superior
- pip (gestor de paquetes de Python)
- Git

### Pasos de Instalaci√≥n

1. **Clonar el repositorio**

```bash
git clone https://github.com/tu-usuario/Proyecto_Final_IA_Dermatologia.git
cd Proyecto_Final_IA_Dermatologia
```

2. **Crear entorno virtual**

```bash
python -m venv derma_env
# En Windows:
derma_env\Scripts\activate
# En Linux/Mac:
source derma_env/bin/activate
```

3. **Instalar dependencias**

```bash
pip install -r requirements.txt
```

4. **Configurar variables de entorno**
   Crear un archivo `.env` en la ra√≠z del proyecto:

```env
DJANGO_SECRET_KEY=tu_clave_secreta_aqui
GEMINI_API_KEY=tu_api_key_de_gemini
DEBUG=True
```

5. **Configurar base de datos**

```bash
python manage.py makemigrations
python manage.py migrate
```

6. **Crear superusuario**

```bash
python manage.py createsuperuser
```

7. **Ejecutar servidor de desarrollo**

```bash
python manage.py runserver
```

El sistema estar√° disponible en `http://localhost:8000`

## üîß Configuraci√≥n Adicional

### Modelo de IA

El modelo entrenado debe ubicarse en:

```
IA/Dermatological_AI_Model/checkpoints/MODELO_IA_DERMATOLOGICO.keras
```

### API de Gemini

Para obtener descripciones y tratamientos generados por IA:

1. Registrarse en [Google AI Studio](https://aistudio.google.com/)
2. Obtener una API key
3. Configurar la variable `GEMINI_API_KEY` en el archivo `.env`

## üì± Uso del Sistema

### 1. Registro e Inicio de Sesi√≥n

- Crear cuenta de usuario
- Iniciar sesi√≥n con credenciales

### 2. Gesti√≥n de Pacientes

- Registrar nuevos pacientes
- Buscar pacientes existentes
- Editar informaci√≥n de pacientes

### 3. An√°lisis Dermatol√≥gico

1. **Subir Imagen**: Seleccionar imagen de lesi√≥n cut√°nea
2. **Seleccionar Paciente**: Elegir paciente existente o crear nuevo
3. **Indicar Localizaci√≥n**: Especificar zona anat√≥mica
4. **Analizar**: El sistema procesa la imagen con IA
5. **Ver Resultados**: Obtener diagn√≥stico, confianza y visualizaci√≥n

### 4. Reportes

- Visualizar resultados detallados
- Descargar reportes en PDF
- Enviar reportes por email
- Consultar historial de an√°lisis

## üìä Flujo de An√°lisis

```mermaid
graph TD
    A[Subir Imagen] --> B[Preprocessamiento]
    B --> C[Modelo de IA]
    C --> D[Predicci√≥n]
    D --> E[GradCAM]
    E --> F[Gemini AI]
    F --> G[Reporte Final]
```

1. **Preprocessamiento**: La imagen se redimensiona a 224x224 y se normaliza
2. **Predicci√≥n**: El modelo MobileNetV2 personalizado clasifica la imagen
3. **GradCAM**: Se genera un mapa de calor mostrando las √°reas importantes
4. **Gemini AI**: Se genera descripci√≥n y recomendaciones de tratamiento
5. **Almacenamiento**: Los resultados se guardan en la base de datos

## üîí Seguridad

- **Autenticaci√≥n requerida**: Todos los endpoints requieren login
- **Validaci√≥n de datos**: Formularios con validaci√≥n robusta
- **Middleware de sesi√≥n**: Control de timeout de sesi√≥n
- **Validaci√≥n de archivos**: Solo im√°genes permitidas (JPG, PNG, JPEG)
- **Sanitizaci√≥n**: Prevenci√≥n de inyecciones y XSS

## üìà Caracter√≠sticas T√©cnicas

### Modelo de IA

- **Arquitectura**: MobileNetV2 con capas personalizadas
- **Entrada**: Im√°genes RGB de 224x224 p√≠xeles
- **Salida**: Probabilidades para 25 clases
- **M√©trica**: F1-Score personalizado para evaluaci√≥n multiclase

### Rendimiento

- **Tiempo de an√°lisis**: ~2-5 segundos por imagen
- **Precisi√≥n del modelo**: Configurado con m√©tricas F1
- **Soporte concurrente**: M√∫ltiples usuarios simult√°neos

### Base de Datos

- **Modelos principales**:
  - `Patient`: Informaci√≥n de pacientes
  - `SkinImage`: Im√°genes y resultados de an√°lisis
- **Relaciones**: Un paciente puede tener m√∫ltiples an√°lisis
- **Validaciones**: Campos √∫nicos (DNI, email, tel√©fono)

## üêõ Soluci√≥n de Problemas

### Problemas Comunes

**Error: Modelo no encontrado**

```bash
# Verificar ruta del modelo
ls IA/Dermatological_AI_Model/checkpoints/
```

**Error: Gemini API no disponible**

- Verificar API key en archivo `.env`
- Comprobar conectividad a internet

**Error: Imagen no se procesa**

- Verificar formato de imagen (JPG, PNG, JPEG)
- Comprobar tama√±o m√°ximo (5MB)

## ü§ù Contribuci√≥n

1. Fork el proyecto
2. Crear rama feature (`git checkout -b feature/AmazingFeature`)
3. Commit cambios (`git commit -m 'Add some AmazingFeature'`)
4. Push a la rama (`git push origin feature/AmazingFeature`)
5. Abrir Pull Request

## üìÑ Licencia

Este proyecto est√° bajo la Licencia MIT. Ver el archivo `LICENSE` para m√°s detalles.

## üë• Autores

- **Gabriel** - Desarrollo principal - [GitHub](https://github.com/tu-usuario)

## üôè Agradecimientos

- Dataset de entrenamiento de lesiones dermatol√≥gicas
- Comunidad de TensorFlow y Django
- Google Generative AI por la API de Gemini
- Bibliotecas de c√≥digo abierto utilizadas

## üìû Soporte

Para soporte t√©cnico o preguntas:

- üìß Email: support@dermaia.com
- üì± Tel√©fono: +593 99 999 9999
- üí¨ Issues: [GitHub Issues](https://github.com/tu-usuario/Proyecto_Final_IA_Dermatologia/issues)

---

‚ö†Ô∏è **Aviso Importante**: Este sistema es una herramienta de apoyo diagn√≥stico y no reemplaza el criterio m√©dico profesional. Siempre consulte con un dermat√≥logo calificado para diagn√≥sticos definitivos.

---

Desarrollado con ‚ù§Ô∏è para mejorar el diagn√≥stico dermatol√≥gico mediante IA.
