{% extends 'components/base.html' %}
{% load static %}


{% block content %}
  <div class="home-container">
    <!-- Hero Section -->
    <div class="hero-section">
      <div class="hero-background">
        <img src="{% static 'img/fondo.png' %}" alt="Dermatología AI">
        <div class="hero-overlay"></div>
      </div>
      <div class="hero-content">
        <h1 class="hero-title">DermaIA</h1>
        <p class="hero-subtitle">
          Sistema avanzado de diagnóstico dermatológico mediante<br>
          inteligencia artificial
        </p>
        <a href="{% url 'dermatology:upload_image' %}" class="btn-primary" type="button">
          <i class="fas fa-play"></i> Comenzar
        </a>
      </div>
    </div>

    <!-- Reportes Recientes -->
    <div class="reports-section">
      <h2 class="section-title">Reportes recientes</h2>

      <div class="reports-grid">
        {% for img in recent_images %}
          <div class="report-card">
            <div class="report-header">
              <div class="report-icon">
                <i class="fas fa-file-medical fa-lg"></i>
              </div>
              <strong class="report-status">Reporte {{ img.condition|default:"Pendiente" }}</strong>
            </div>

            <div class="report-body">
              <strong>Paciente:</strong> {{ img.patient.get_full_name|default:"Desconocido" }} -
              CI: {{ img.patient.dni }}
              <div class="report-details">
                <strong>Sexo:</strong> {{ img.patient.get_sex_display }}
                <div class="report-detail-item">
                  <strong>Localización:</strong> {{ img.get_anatom_site_general_display }}
                </div>
              </div>
              <div class="report-date">Realizado el {{ img.created_at|date:"d \\d\\e F, Y - h:i A" }}
              </div>
            </div>

            <div class="report-footer">
              <a href="{% url 'dermatology:report_detail' img.id %}" class="btn-secondary"><i class="fas fa-eye"></i>
                Detalles</a>
            </div>
          </div>
        {% empty %}
          <!-- Mensaje cuando no hay datos -->
          <div class="no-reports">
            <p>No hay imágenes recientes.</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}